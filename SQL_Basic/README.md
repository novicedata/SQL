# SQL

## SQL 기본

### 관계형 데이터베이스

- **RDB(Relational DataBase)**: 모든 데이터를 2차원 테이블 형태로 표현한 뒤 각 테이블 간의 관계를 정의하는 것으로 시작
- **RDBMS(Relational Database Management System)**: RDB를 관리, 감독하기 위한 시스템
  - Oracle, SQL, MySQL, MariaDB etc
 
- **TABLE**: 2차원 테이블

- **SQL(Structuerd Quey Language)**: RDB에서 데이터를 다루기 위한 용어

### SELECT문

- **저장되어 있는 데이터를 조회**
  - *은 전체 칼럼 조회
  -  WHERE 절이 없으면 테이블의 전체 row 조회
  -  테이블, 칼럼명에 별도의 Alias를 붙여주어 줄임말처럼 쓸 수 있음
 
- **산술 연산자**
  - `()`: 괄호로 우선순위 조정할 때
  - '*, /': 곱하기, 나누기
  - '+, -': 더하기 빼기
  - '%'(SQL Server): 나머지
 
- **합성 연산자**
  - `||`: 문자와 문자 연결할 때 사용
 
### 함수

- **문자함수**
  - CHR(ASCII 코드)
  - LOWER: 소문자 변환
  - UPPER: 대문자 변환
  - **LTRIM(문자열, [특정문자])**: 특정 문자 지정 X시 왼쪽 공백 제거. 명시해주면 그 문자와 비교하여 제거
  - **RTRIM(문자열, [특정문자])**: LTRIM와 같지 오른쪽 부터
  - **TRIM([위치] [특정문자] [FROM] 문자열)**: 옵션없으면 양쪽 공백 제거, 그렇지 않을 경우 문자열 위치로 지정된 곳부터 특정문자 제거
  - **SUBSTR(문자열, 시작점, [길이])**: 문자열의 원하는 부분만 잘라서 반환
  - LENGTH(문자열): 길이 반환
  - REPLACE(문자열, 변경 전 문자열, [변경 후 문자열]): 문자열에서 변경 전 문자열 찾고 후로 반환
  - **LPAD(문자열, 길이, 문자)**: 문자열이 설정한 길이가 될 때까지 왼쪽은 특정 문자로 채우는 함수
 
- **숫자함수**
  - ABS(수): 절댓값
  - SIGN(수): 부호 반환
  - ROUND(수, [자릿수]): 지정된 소수점 자릿수까지 반올림
  - TRUNC(수, [자릿수]): 지정된 소수점 자릿수까지 버림
  - CEIL(수): 소수점 이하 반올림
  - FLOOR(수): 소수점 이하 버림
  - **MOD(수1, 수2)**: 수1을 수2로 나눈 나머지

- **날짜함수**
  - SYSDATE: 현재 연월일시분 반환
  - **EXTRACT(특정 단위 FROM 날짜 데이터)**: 특정 단위에 YEAR, MONTH... 만 넣어서 반환
  - **ADD_MONTHS(날짜 데이터, 특정 개월 수)**: 날짜 데이터에서 특정 개월 수를 더한 날짜 반환
 
- **변환함수**
  - **명시적 형변환**: 변환 함수를 사용하여 데이터 유형 변환을 명시적으로 나타냄
    - TO_NUMBER(문자열): 문자열을 숫자형
    - TO_CHAR(수 or 날짜, [포맷]): 포맷 형식의 문자형으로 변환
    - TO_DATE(문자열, 포맷): 포맷 형식의 문자형 데이터를 날짜

  - **암시적 형변환**: 데이터베이스가 내부적으로 알아서 데이터 유형 변형
 
- **NULL 함수**
  - **NVL(인수1, 인수2)**: 인수1이 NULL일 경우 인수2
  - **NULLIF(인수1, 인수2)**: 인수1, 인수2 같으면 NULL 반환
  - **COALESCE(인수1, 인수2, 인수3,...)**: NULL이 아닌 최초의 인수 반환
  - **NVL2(인수1, 인수2, 인수3)**: 인수1이 NULL이 아니면 인수2로 NULL이면 인수3으로
 
- **CASE**
  - 구문에 가까움 '~이면 ~이고, ~이면 ~이다'
  - python의 if 구문과 유사
 
- **WHERE**
  - INSERT를 제외한 DML 문을 수행할 때 원하는 데이터만 골라 수행할 수 있도록 하는 구문
