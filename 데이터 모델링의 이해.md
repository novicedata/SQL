### 데이터 모델링의 이해

---

<details>
  <summary><strong> 1️⃣ 데이터모델의 이해 </strong></summary>
  
- **모델링**: 현실 세계를 단순화하여 표현하는 기법

- **모델링의 특징(3)**
  -  **추상화**: 현실 세계를 일정한 형식으로 표현.
  -  **단순화**: 복잡한 현실 세계를 정해진 표기법으로 쉽게 표현.    
  -  **명확화**: 불분명함 제거, 명확하게 해석할 수 있도록 기술.
 
- **모델링의 관점(3)**
  - **데이터** 관점(What, Data)
  - **프로세스** 관점(How, Process)
  - **데이터와 프로세스 상관** 관점(Data vs. Process, Interaction)
 
- **데이터 품질 유의점(3)**
  - **중복**: 같은 데이터가 여러 엔티티에 중복 저장 X
  - **비유연성**: 데이터, 프로세스 분리로 유연성을 높여야함.(사소한 변경에 따른 모델 수시 변경 X)
  - **비일관성**: 데이터 간의 연관 관계에 대해 명확히 정의해야함.(데이터 간 상관 고려하지 않고 변경 X)
 
- **모델링 단계(3)**
  - **개념적** 데이터 모델링(생각과 관찰): 추상화 수준이 가장 높은 단계. 비즈니스 이해.
    - 어떤 대상이 있고 어떤 관계가 있는지?

  - **논리적** 데이터 모델링(설계도 정리): 재사용성이 높은 모델링.
    - Key, 속성, 관계등을 설계하고 표현
  
  - **물리적** 데이터 모델링(실제 구현): 실제 구현가능 하도록 모델 표현

- **3단계 스키마 구조**
  - **외부 스키마**: 사용자의 view. 사용자가 보는 데이터베이스의 스키마 정의
    - 사용자는 DB의 어느 부분만 보게 할건지
   
  - **개념 스키마**: 통합 view. 전체 논리적 구조(표현과 관계)
    - DB에 어떤 데이터, 테이블이 있고 관계는 어떻게 연결되는지

  - **내부 스키마**: 물리적 view. 실제 물리적 저장 구조
    - 어떻게 저장할지? 인덱스, 페이지구조, 칼럼 정의
   
- **독립성**: 애초에 위에서 3단계 스키마로 나눈 이유가 독립성 위해서임
  - **논리적 독립성**: 개념 스키마 변경되도 외부 스키마 영향 X
    > 생년월일 칼럼 추가해도 사용자 화면 자체는 그대로(프로그램 수정해야함)

  - **물리적 독립성**: 내부 스키마가 변경되어도 외부/개념 스키마 영향 X
    > 인덱스 추가, 저장 위치 변경해도 테이블 구조, SQL 자체는 바뀌지 않음

  - **ERD(Entity Relationship Diagram) 중 Crow's Foot**
    > <img width="400" height="300" alt="image" src="https://github.com/user-attachments/assets/2f3293fc-776a-4b4d-9632-185c046946ce" />
    - **작성 순서**
      - 1. 엔터티 도출 및 그리기
        2. 엔터티 배치
        3. 엔터티 간 관계 설정
        4. 관계명 기입
        5. 관계 참여도 기입
        6. 관계 필수/선택 여부 기입
</details>

<details>
  <summary><strong> 2️⃣ 엔터티(entity) </strong></summary>

- **엔터티**: '독립체', 식별 가능한 객체, 업무에서 쓰이는 데이터를 용도별로 분류한 그룹
  - **TIP**:
    - 엔터티: 테이블, 인스턴스: 행, 속성: 칼럼
    > <img width="600" height="180" alt="image" src="https://github.com/user-attachments/assets/21ee983d-236b-44c8-ba93-47422d8eccdd" />

- **엔터티 특징**
  - 업무에 쓰이는 정보여야 함
  - 유니크함을 보장할 수 있는 식별자가 있어야 함(별도 상품번호/회원코드 등)
  - 2개 이상의 인스턴스(행)을 가지고 있어야함
  - 반드시 속성(열)을 가지고 있어야함
  - 다른 엔터티와 1개 이상의 관계를 가지고 있어야함

- **엔터티 분류(유형 vs 무형)**
  - **유형 엔터티**: 물리적인 형태 존재, 안정적, 지속적 (상품, 회원 등)
  - **개념 엔터티**: 물리적 형태 없음, 개념적 (부서, 학과 등)
  - **사건 엔터티**: 행위를 함으로써 발생, 빈번, 통계 자료 이용 가능 (주문, 이벤트 응모 등)
 
- **엔터티 분류(발생시점)**
  - **기본 엔터티**: 업무에 원래 존재, 독립적 생성, 자식 엔터티 가질 수 있음 (상품, 회원, 사원 등)
  - **중심 엔터티**: 기본 엔터티로부터 파생, 행위 엔터티 생성, 업무에서 중심적 역할 (주문, 매출, 계약 등)
  - **행위 엔터티**: 2개 이상의 엔터티로부터 파생, 데이터 자주 변경 증가 가능 (주문 내역, 이벤트 응모 이력 등)
</details>

<details>
  <summary><strong> 3️⃣ 속성 </strong></summary>

- **속성이란**: 개념의 특징을 설명해줄 수 있는 항목 들
  - 더 이상 쪼개지지 않는 레벨이어야 함
  - 프로세스 상 필요한 항목이여야 

- **속성값**: 엔터티에 속한 하나의 인스턴스를 구체적으로 나타내주는 데이터
  - 하나의 속성은 하나의 속성값만 가질 수 있음
 
- **엔터티, 인스턴스, 속성, 속성값 간 관계**
  > <img width="450" height="180" alt="image" src="https://github.com/user-attachments/assets/a4d77228-07c8-40ab-8490-f31a7c7da35b" />

- **속성 분류(특성)**
  - **기본 속성**: 업무 프로세스 분석을 통해 정의가 가능한 속성(가장 일반적)
  - **설계 속성**: 업무에 존재하지는 않지만 설계하다보니 필요하다고 판단되어 도출한 속성
  - **파생 속성**: 다른 속성의 속성값을 계산하거나 특정 규칙으로 변형하여 생성한 속성
 
- **속성 분류(구성방식)**
  - **PK(Primary Key) 속성**: 엔터티의 인스턴스들을 식별할 수 있는 속성
  - **FK(Foreign Key) 속성**: 다른 엔터티의 속성에서 가져온 속성
  - **일반 속성**: 나머지 속성
  > <img width="500" height="150" alt="image" src="https://github.com/user-attachments/assets/c8fde69c-b5e6-4661-b5ee-433b8f9e05dc" />

- **도메인**: 속성이 사질 수 있는 속성값의 범위

- **용어사전**: 속성의 이름을 정확하고 직관적으로 부여하고 용어의 혼란을 없애기 위해 사용하는 업무 사전
- **시스템 카탈로그**: 사용자 테이블과 별개로 시스템 자체에 관련이 있는 데이터를 담고 있는 데이터 베이스 
</details>

<details>
  <summary><strong> 4️⃣ 관계 </stong></summary>

- **관계란?**: 엔터티와 엔터티 간 관계
- **존재 관계**: 엄아, 아기 처럼 존재 자체로 연관성 있는 관계 (직원/부서, 학생/학과)
- **행위 관계**: 특정 행위를 함으로써 연관성이 생기는 관계 (회원/주문, 학생/출석)

- **표기법**
  - **관계명**: 관계 이름. 모든 관계는 두 개의 관계명을 가짐(현재형)
    > <img width="614" height="70" alt="image" src="https://github.com/user-attachments/assets/e89f2d00-2c50-41a5-b71a-53b15b80c0e7" />

  - **관계차수**: 관계에 참여하는 수
    > <img width="600" height="200" alt="image" src="https://github.com/user-attachments/assets/0b2ef9a7-fb98-4ba6-b558-6fd8dd5c5d94" />

  - **관계선택사양**: 필수(참여자가 반드시 존재하는 관계) or 선택(참여자가 없을 수도 있는 관계)
    - 주문 / 주문 상품 -> 필수(주문해야함)
    - 학생 / 출석부 -> 선택(출석 안해도 됨)
</details>

<details>
  <summary><strong> 5️⃣ 식별자 </stong></summary>

- **식별자란?**: 속성 중 각각의 인스턴스를 구분가능하게 만들어주는 대표 속성(학번, 군번, 사번 등)

- **주식별자**: 기본키, PK에 대항하는 속성, 하나의 속성이 주식별자가 될 수도 있고 여러 개의 속성이 주식별자가 될 수 있음
  - **유일성**: 각 인스턴스에 유니크함을 부여하여 식별이 가능하도록 함
  - **최소성**: 유일성을 보장하는 최소 개수의 속성이어야 함
  - **불변성**: 되도록 변하지 않아야 함
  - **존재성**: NULL일 수 없음

- **분류**
  - **1. 대표성**
    - 주식별자: 대표 식별자, 다른 엔터티와 참조 관계로 연결
    - 보조식별자: 대표 식별자 X, 다른 엔터티와 참조 관계로 연결 X
   
  - **2. 생성방법**
    - 내부식별자: 엔터티 내부에서 스스로 생성된
    - 외부식별자: 다른 엔터티에서 온 식별자
   
  - **3. 단일 속성 여부**
    - 단일식별자: 하나의 속성으로 구성됨
    - 복합식별자: 두 개 이상의 속성으로 구성됨
   
  - **4. 대체 여부**
    - 본질식별자: 업무 프로세스에 존재, 가공되지 않은 원래의 원조식별자
    - 인조식별자: 주식별자의 속성이 2개 이상인 경우 하나로 묶은 것, 대리식별자

- **식별자 vs 비식별자**
  - **식별자 관계**: 부모 엔터티의 식별자가 자식 엔터티의 주식별자가 되는 관계
  - **비식별자 관계**: 부모 엔터티의 식별자가 자식 엔터티의 식별자가 아닌 일반 속성이 되는 관
</details>

---
